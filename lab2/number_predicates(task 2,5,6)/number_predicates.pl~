max(X,Y,X):-X>Y,!.
max(_,Y,Y):-!.

max_digit_up(0,0):-!.
max_digit_up(InputNumber,ResultDigit):-NextNumber is InputNumber div 10, max_digit_up(NextNumber,NextResult),CurrentDigit is InputNumber mod 10, max(NextResult,CurrentDigit,ResultDigit).

max_digit_down(InputNumber,ResultDigit):-max_digit_down_rec(InputNumber,0,ResultDigit).
max_digit_down_rec(0,ResultDigit,ResultDigit):-!.
max_digit_down_rec(InputNumber,CurrentMaxDigit,ResultDigit):- CurrentDigit is InputNumber mod 10, max(CurrentDigit,CurrentMaxDigit,Z), NewInputNumber is InputNumber div 10, max_digit_down_rec(NewInputNumber,Z,ResultDigit).


multiple_of_3(X,X):-0 is X mod 3,!.
multiple_of_3(_,0):-!.

multiple_3_numbers_sum_up(0,0):-!.
multiple_3_numbers_sum_up(InputNumber,CurrentSum):-NewNumber is InputNumber div 10,multiple_3_numbers_sum_up(NewNumber,NextSum), NewDigit is InputNumber mod 10, multiple_of_3(NewDigit,Result), CurrentSum is NextSum + Result.

multiple_3_numbers_sum_down(InputNumber,ResultSum):-multiple_3_numbers_sum_down_rec(InputNumber,0,ResultSum).
multiple_3_numbers_sum_down_rec(0,ResultSum,ResultSum):-!.
multiple_3_numbers_sum_down_rec(InputNumber,CurrentSum,ResultSum):-NewDigit is InputNumber mod 10,multiple_of_3(NewDigit,Result), NewCurrentSum is CurrentSum + Result,NewInputNumber is InputNumber div 10, multiple_3_numbers_sum_down_rec(NewInputNumber,NewCurrentSum,ResultSum) .

get_del(N,Del):-get_del1(N,N,Del).
del_of(X,Y,1):-0 is X mod Y,!.
del_of(_,_,0).
get_del1(_,1,1):-!.
get_del1(InputNumber,CurrentDel,ResultDel):-NewCurrentDel is CurrentDel - 1, get_del1(InputNumber,NewCurrentDel,NewResultDel),del_of(InputNumber,CurrentDel,Result), ResultDel is NewResultDel + (-NewResultDel+CurrentDel) * Result.

get_del2(N,Del):-get_del3(N,1,Del).
get_del3(N,N,N):-!.
get_del3(InputNumber,CurrentDel,Del):- 0 is InputNumber mod CurrentDel,Del is CurrentDel.
get_del3(InputNumber,CurrentDel,Del):- NewCurrentDel is CurrentDel + 1, get_del3(InputNumber,NewCurrentDel,Del).

get_two_del(Z):-get_del2(Z,Del1),get_del2(Z,Del2),Del1<Del2,writeln(Del1+" "+Del2),fail.
